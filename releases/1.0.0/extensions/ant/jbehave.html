<html>

<head>
    <meta http-equiv="Content-Language" content="en-us">
    <title>jBehave Task</title>
</head>

<body>

<h2><a name="jbehave">jBehave</a></h2>

<h3>Description</h3>

<p>Launches the verification process and sets a property if build did not pass..</p>

<h3>Parameters</h3>
<table border="1" cellpadding="2" cellspacing="0">
  <tbody><tr>
    <td valign="top"><b>Attribute</b></td>
    <td valign="top"><b>Description</b></td>
    <td align="center" valign="top"><b>Required</b></td>

  </tr>
  <tr>
    <td valign="top">classpath</td>
    <td valign="top">the classpath to use.</td>
    <td align="center" valign="top">No</td>

  </tr>
  <tr>
    <td valign="top">classpathref</td>
    <td valign="top">the classpath to use, given as <a href="../using.html#references">reference</a> to a PATH defined elsewhere.</td>
    <td align="center" valign="top">No</td>
  </tr>
  <tr>
    <td valign="top">maxmemory</td>
    <td valign="top">Max amount of memory to allocate to the forked VM in megabyte</td>
    <td align="center" valign="top">No</td>
  </tr>
</tbody></table>

<h3><a name="nested">Nested Elements</a></h3>
<h4>jvmarg</h4>

<p>Use nested <code>&lt;arg&gt;</code> and <code>&lt;jvmarg&gt;</code>
elements to specify arguments for the Java class and the forked VM respectively.
See <a href="http://ant.apache.org/manual/using.html#arg">Command line arguments</a>.</p>

<h4>classpath</h4>
<p><code>Java</code>'s <i>classpath</i> attribute is a <a href="http://ant.apache.org/manual/using.html#path">PATH like structure</a>
and can also be set via a nested <i>classpath</i> element.</p>

<h3>Examples</h3>
<pre>
    &lt;path id="jbehave.ant.lib"&gt;
        &lt;pathelement location="${lib.build.dir}/jbehave.jar" /&gt;
        &lt;pathelement location="${lib.build.dir}/jbehave_ant.jar" /&gt;
    &lt;/path&gt;
    &lt;taskdef name="jbehave" classname="jbehave.ant.JBehaveTask" classpath="jbehave.ant.lib" /&gt;
</pre>
Defines the jBehave task

<pre>
    &lt;target name="behave" depends="behaviour.compile"&gt;
        &lt;jbehave&gt;
            &lt;behaviours name="jbehave.core.AllBehaviours"/&gt;
            &lt;classpath&gt;
                &lt;pathelement location="${classes.dir}"/&gt;
                &lt;pathelement location="${behaviour.classes.dir}"/&gt;
            &lt;/classpath&gt;
        &lt;/jbehave&gt;
    &lt;/target&gt;
</pre>

Verifies the behaviours defined in <code>jbehave.core.AllBehaviours</code> in a seperate VM.  Build will fail if the
verification fails

<pre>
    &lt;jbehave&gt;
      &lt;verify name="net.sf.cotta.acceptance.AllBehaviours"/&gt;
      &lt;classpath&gt;
        &lt;pathelement location="${emma.instr.dir}"/&gt;
        &lt;path refid="emma.lib"/&gt;
        &lt;pathelement location="${behaviour.build.dir}"/&gt;
        &lt;pathelement location="${main.build.dir}"/&gt;
        &lt;path refid="library"/&gt;
      &lt;/classpath&gt;
      &lt;jvmarg line="-Demma.coverage.out.file=${emma.instr.dir}/coverage.emma"/&gt;
      &lt;jvmarg line="-Demma.coverage.out.merge=true"/&gt;
    &lt;/jbehave&gt;
</pre>

Verifies the behaviours defined in <code>net.sf.cotta.acceptance.AllBehaviours</code> in a seperate VM, with supplied
VM parameters to hook up the emma.

</body>
</html>