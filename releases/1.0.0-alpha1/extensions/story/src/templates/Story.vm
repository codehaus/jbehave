/*
 * Created on 23-Aug-2004
 */
package stories;

import ${basePackage}.events.*;
import ${basePackage}.expectations.*;
import ${basePackage}.givens.*;
import com.thoughtworks.jbehave.story.core.domain.*;
import com.thoughtworks.jbehave.story.core.domain.base.StoryBase;

public class $story.className extends StoryBase {

#foreach ( $scenario in $story.scenarios )

        addScenario(new Scenario(
                "$scenario.name", this,
                new SimpleContext(
    #set ( $comma = "" )
    #if ( $scenario.context.scenario )
                    // TODO make this work for scenarios from other stories
                    getScenario("$scenario.context.scenario.name")
        #set ( $comma = "," )
    #end
    #foreach ( $given in $scenario.context.givens )
                    $comma new ${given.className}()
        #set ( $comma = "," )
    #end
                ),
                new ${scenario.event.className}(),
                new SimpleOutcome(
    #set ( $comma = "" )
    #foreach ( $expectation in $scenario.outcome.expectations )
                    $comma new ${expectation.className}()
        #set ( $comma = "," )
    #end
                )
            )
        );
        
#end
    }
}
