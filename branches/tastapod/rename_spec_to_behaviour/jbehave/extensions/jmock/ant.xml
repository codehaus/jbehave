<project name="jbehave-jmock" basedir="." default="all">
	<property name="jmock-src.dir" value="${jmock.dir}/src"/>
	<property name="jmock-spec.dir" value="${jmock.dir}/behaviour" />
	<property name="jmock-build.dir" value="${jmock.dir}/build"/>
	<property name="jmock-dist.dir" value="${jmock.dir}/dist"/>
	<property name="jmock-jar.file" value="${jmock-dist.dir}/jbehave-jmock-${version}.jar" />
	<property name="jmock-classes.dir" value="${jmock-build.dir}/classes" />
	<property name="jmock-spec.classes.dir" value="${jmock-build.dir}/specs" />
	<property name="jmock-lib.dir" location="${jmock.dir}/lib"/>
	<property name="jmock-reqd.libs" value="${jmock-lib.dir}/junit.jar:${jmock-lib.dir}/jmock-1.0.1.jar"/>



	<target name="jmock-all" depends="core-all, jmock-verify">
 		<echo>JBehave jmock Done</echo>
	</target>

	<target name="jmock-clean">
		<delete dir="${jmock-build.dir}" />
	</target>

	<target name="jmock-clobber" depends="jmock-clean">
		<delete dir="${jmock-dist.dir}" />
	</target>

	<target name="jmock-init">
		<mkdir dir="${jmock-build.dir}" />
	</target>

	<target name="jmock-src.compile" depends="jmock-init">
 		<compile classesdir="${jmock-classes.dir}"
				 srcdir="${jmock-src.dir}"
			 	 classpath="${core-jar.file}:${jmock-reqd.libs}"/>
	</target>


	<target name="jmock-jar" depends="jmock-src.compile">
		<jar-dist distdir="${jmock-dist.dir}"
				  classesdir="${jmock-classes.dir}"
				  srcdir="${jmock-src.dir}"
				  jarfile="${jmock-jar.file}"/>
	</target>

	<target name="jmock-spec.compile" depends="jmock-jar">
		<compile classesdir="${jmock-spec.classes.dir}"
				 srcdir="${jmock-spec.dir}"
				 classpath="${core-jar.file}:${jmock-jar.file}:${jmock-reqd.libs}"/>
	</target>


	<target name="jmock-verify" depends="jmock-spec.compile">
		<jbehave spec="jbehave.extensions.jmock.AllSpecs" classpath="${jmock-jar.file}:${jmock-reqd.libs}:${core-jar.file}:${jmock-spec.classes.dir}"/>
	</target>

</project>