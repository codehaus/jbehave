<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Using JMock with JBehave</title>
  </head>
  <body>
    <h1>One minute tutorial</h1>

    <p>Create a Behaviour Class that extends <tt>UsingJMock</tt> from the jmock extension library.
    <tt>UsingJMock</tt> brings together a bunch of "sugar" methods for use when creating/setting up
    mocks and expectations. It also provides auto-verification for all mocks.</p>

	<p>You use jMock like so:</p>
	<div class="Shaded"><pre>
	public class BarBehaviour extends UsingJMock {
	    public void shouldRequireTheUseOfMocks() {
	        // setup
	        Mock foo = new Mock(Foo.class);
	        Bar bar = new Bar((Foo)foo.proxy());

	        //expect
	        foo.expects(once()).method("blah").withAnyArguments();

	        // execute
	        bar.doBar();

	        // verify
	    }
	}
	</pre></div>
	<p>Any mocks created will be auto-magically verified by jBehave.</p>

    <p>To run your behaviour you can do it like so:</p>
    <div class="Shaded">
    	<pre>java -cp jbehave.jar;jbehave-jmock.jar;jmock.jar;your_classpath<br></br>
    com.thoughtworks.jbehave.extensions.jmock.RunWithJMock your.ApplicationBehaviour</pre>
	</div>
  </body>
</html>
