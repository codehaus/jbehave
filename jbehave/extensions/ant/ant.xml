<project name="jbehave-ant" basedir="." default="all">
	<property name="ant.basedir" value="${ant.dir}"/>
	<property name="ant-src.dir" value="${ant.basedir}/src"/>
	<property name="ant-spec.dir" location="${ant.basedir}/behaviour" />
	<property name="ant-build.dir" value="${ant.basedir}/build"/>
	<property name="ant-dist.dir" value="${ant.basedir}/dist"/>
	<property name="ant-jar.file" location="${ant-dist.dir}/jbehave-ant-${version}.jar" />
	<property name="ant-classes.dir" location="${ant-build.dir}/classes" />
	<property name="ant-spec.classes.dir" location="${ant-build.dir}/specs" />
	<property name="ant-lib.dir" location="${ant.basedir}/lib"/>



	<target name="all" depends="jbehave-core.all, ant-verify">
 		<echo>JBehave Ant Done</echo>
	</target>

	<target name="ant-clean">
		<delete dir="${ant-build.dir}" />
	</target>

	<target name="ant-clobber" depends="ant-clean">
		<delete dir="${ant-dist.dir}" />
	</target>

	<target name="ant-init">
		<mkdir dir="${ant-build.dir}" />
	</target>

	<target name="ant-src.compile" depends="ant-init">
 		<compile classesdir="${ant-classes.dir}"
				 srcdir="${ant-src.dir}"
			 	 classpath="${core-jar.file}:${ant-lib.dir}/ant.jar"/>
	</target>


	<target name="ant-jar" depends="ant-src.compile">
		<jar-dist distdir="${ant-dist.dir}"
				  classesdir="${ant-classes.dir}"
				  srcdir="${ant-src.dir}"
				  jarfile="${ant-jar.file}"/>
	</target>

	<target name="ant-spec.compile" depends="ant-jar">
		<compile classesdir="${ant-spec.classes.dir}"
				 srcdir="${ant-spec.dir}"
				 classpath="${core-jar.file}:${ant-jar.file}:${ant-lib.dir}/ant.jar"/>
	</target>


	<target name="ant-verify" depends="ant-spec.compile">
		<jbehave spec="jbehave.extensions.ant.JBehaveAntTaskSpec" classpath="${ant-jar.file}:${ant-lib.dir}/ant.jar:${core-jar.file}:${ant-spec.classes.dir}"/>
	</target>


</project>
